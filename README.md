# Inter-Core Latency Benchmark

Этот проект измеряет время, необходимое для передачи данных между разными ядрами одного процессора через протокол кэш-когерентности (cache coherence protocol). Измерения проводятся для двух сценариев:

1. **Одна кэш-линия** - оба ядра конкурируют за одну shared переменную
2. **Две кэш-линии** - каждое ядро владеет своей переменной (message passing)

Для каждой пары ядер вычисляются:
- **Медиана** (50-й персентиль) - типичное значение latency
- **P90** (90-й персентиль) - 90% измерений быстрее этого значения
- **P95** (95-й персентиль) - 95% измерений быстрее этого значения

Результаты представляются в виде матриц и визуализируются как тепловые карты (heatmaps).

## Требования

### Системные требования
- **OS**: Linux (x86_64)
- **CPU**: Архитектура x86-64 с поддержкой RDTSC/RDTSCP
- **Компилятор**: GCC 10+ или Clang 12+
- **CMake**: 3.20+
- **Python**: 3.8+ (для визуализации)

### 1. Сборка проекта

```bash
chmod +x build.sh
./build.sh
```

### 2. Запуск бенчмарка

```bash
./build/inter-core-latency

./build/inter-core-latency --one   # только 1 кэш-линия
./build/inter-core-latency --two   # только 2 кэш-линии

./build/inter-core-latency --iterations 200
```

### 3. Визуализация результатов

**Jupyter Notebook**